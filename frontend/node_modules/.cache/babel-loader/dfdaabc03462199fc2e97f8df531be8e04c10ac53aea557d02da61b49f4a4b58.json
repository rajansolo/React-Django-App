{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Post(_ref){let{post,isEditing,setEditingPostId,onUpdatePost,onDeletePost}=_ref;const[editingTitle,setEditingTitle]=useState(post.title);const[editingContent,setEditingContent]=useState(post.content);const handleSaveEdit=()=>{fetch(\"http://127.0.0.1:8000/api/posts/\".concat(post.id,\"/\"),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title:editingTitle,content:editingContent})}).then(response=>response.json()).then(updatedPost=>{onUpdatePost(updatedPost);setEditingPostId(null);});};const handleCancelEdit=()=>{setEditingPostId(null);setEditingTitle(post.title);setEditingContent(post.content);};const handleDelete=()=>{fetch(\"http://127.0.0.1:8000/api/posts/\".concat(post.id,\"/\"),{method:\"DELETE\"}).then(()=>onDeletePost(post.id));};return/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-header\",children:[/*#__PURE__*/_jsx(\"span\",{children:post.username}),/*#__PURE__*/_jsx(\"span\",{children:new Date(post.created_at).toLocaleString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-title\",children:isEditing?/*#__PURE__*/_jsx(\"input\",{className:\"input\",value:editingTitle,onChange:e=>setEditingTitle(e.target.value)}):/*#__PURE__*/_jsx(\"strong\",{children:post.title})}),/*#__PURE__*/_jsx(\"div\",{className:\"post-content\",children:isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea\",value:editingContent,onChange:e=>setEditingContent(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:handleSaveEdit,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel-button\",onClick:handleCancelEdit,children:\"Cancel\"})]}):/*#__PURE__*/_jsx(\"p\",{children:post.content})}),/*#__PURE__*/_jsx(\"div\",{className:\"post-actions\",children:!isEditing&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit-button\",onClick:()=>setEditingPostId(post.id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:handleDelete,children:\"Delete\"})]})})]});}export default Post;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Post","_ref","post","isEditing","setEditingPostId","onUpdatePost","onDeletePost","editingTitle","setEditingTitle","title","editingContent","setEditingContent","content","handleSaveEdit","fetch","concat","id","method","headers","body","JSON","stringify","then","response","json","updatedPost","handleCancelEdit","handleDelete","className","children","username","Date","created_at","toLocaleString","value","onChange","e","target","onClick"],"sources":["D:/Projects/version 2/CigarChief/blog_project/frontend/src/Components/Post.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nfunction Post({\r\n  post,\r\n  isEditing,\r\n  setEditingPostId,\r\n  onUpdatePost,\r\n  onDeletePost,\r\n}) {\r\n  const [editingTitle, setEditingTitle] = useState(post.title);\r\n  const [editingContent, setEditingContent] = useState(post.content);\r\n\r\n  const handleSaveEdit = () => {\r\n    fetch(`http://127.0.0.1:8000/api/posts/${post.id}/`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ title: editingTitle, content: editingContent }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((updatedPost) => {\r\n        onUpdatePost(updatedPost);\r\n        setEditingPostId(null);\r\n      });\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditingPostId(null);\r\n    setEditingTitle(post.title);\r\n    setEditingContent(post.content);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    fetch(`http://127.0.0.1:8000/api/posts/${post.id}/`, {\r\n      method: \"DELETE\",\r\n    }).then(() => onDeletePost(post.id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"post\">\r\n      <div className=\"post-header\">\r\n        <span>{post.username}</span>\r\n        <span>{new Date(post.created_at).toLocaleString()}</span>\r\n      </div>\r\n      <div className=\"post-title\">\r\n        {isEditing ? (\r\n          <input\r\n            className=\"input\"\r\n            value={editingTitle}\r\n            onChange={(e) => setEditingTitle(e.target.value)}\r\n          />\r\n        ) : (\r\n          <strong>{post.title}</strong>\r\n        )}\r\n      </div>\r\n      <div className=\"post-content\">\r\n        {isEditing ? (\r\n          <>\r\n            <textarea\r\n              className=\"textarea\"\r\n              value={editingContent}\r\n              onChange={(e) => setEditingContent(e.target.value)}\r\n            ></textarea>\r\n            <button className=\"edit-button\" onClick={handleSaveEdit}>\r\n              Save\r\n            </button>\r\n            <button className=\"cancel-button\" onClick={handleCancelEdit}>\r\n              Cancel\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <p>{post.content}</p>\r\n        )}\r\n      </div>\r\n      <div className=\"post-actions\">\r\n        {!isEditing && (\r\n          <>\r\n            <button\r\n              className=\"edit-button\"\r\n              onClick={() => setEditingPostId(post.id)}\r\n            >\r\n              Edit\r\n            </button>\r\n            <button className=\"delete-button\" onClick={handleDelete}>\r\n              Delete\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}